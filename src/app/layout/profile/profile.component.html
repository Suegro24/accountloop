<app-header pageName="Profil"></app-header>
<app-sidenav></app-sidenav>
<div class="profile-container">
    <div class="profile-photo">
        <img [src]="user?.photo ? user?.photo : '../../../assets/images/profile-default.png'" alt="profile">
        <div *ngIf="loggedInUser" class="profile-photo-settings">
            <div class="settings-item">
                <form action="/users/upload-image" method="POST" enctype="multipart/form-data">
                    <mat-icon>add_a_photo</mat-icon>
                    <label> Dodaj zdjęcie 
                        <input name="profileImage" type="file" placeholder="Dodaj zdjęcie" style="display: none;"> 
                    </label>
                    <button type="submit" mat-button>Załaduj</button>
                </form>
            </div>
        </div>
    </div>
    <div class="profile-informations-container">
        <div class="informations-header">
            <h2 class="title">Informacje</h2>
            <p *ngIf="loggedInUser" class="edit-button" (click)="editProfile()" >Edytuj</p>
        </div>
        <div class="information-item">
            <p class="label">Imię</p>
            <p class="item"> {{user?.name}} </p>
        </div>
        <div class="information-item">
            <p class="label">Nazwisko</p>
            <p class="item"> {{user?.surname}} </p>
        </div>
        <div class="information-item">
            <p class="label">Data urodzenia</p>
            <p class="item"> {{user?.dateOfBirth | date:'dd/MM/yyyy'}} </p>
        </div>
        <div class="information-item">
            <p class="label">Email</p>
            <p class="item"> {{user?.email}} </p>
        </div>
        <div class="information-item">
            <p class="label">Numer telefonu</p>
            <p class="item"> (+48){{user?.phone}} </p>
        </div>
        <div class="information-item">
            <p class="label">Płeć</p>
            <p class="item"> {{user?.sex=='man' ? 'Mężczyzna' : 'Kobieta'}} </p>
        </div>
        <div class="information-item">
            <p class="label">Stanowisko</p>
            <p class="item"> {{user?.position?.name || 'Brak stanowiska'}}{{user?.position?.earnings ? ', wynagrodzenie: ' + user.position.earnings + 'zł' : ''}} </p>
        </div>
        <div class="information-item">
            <p class="label">Opis</p>
            <p class="item"> {{user?.description || 'Brak opisu'}} </p>
        </div>
    </div>
</div>
<app-footer></app-footer>